


from infection_functions import *





def TEST(description, expected_result, actual_result):
    print(description,end = ': ')
    if actual_result == expected_result:
        print('pass')
    else:
        print('FAIL')
        print(' Expected Result:', expected_result)
        print(' Actual Result:', actual_result)




def approx_equal(a, b):
    return abs(a - b) < 0.0001



def probability_to_switch_TEST():
    board = [['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', 'X', ' ', '·', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', 'X', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·']]
    
    TEST('Test for a healthy person surrounded by infected', 40, probability_to_switch(20, 50, 1, 1, board))             
    TEST('Test for a healthy person without surrounding infected', 0, probability_to_switch(20, 50, 4, 1, board))
    TEST('TEST for an infected person', 50, probability_to_switch(20, 50, 2, 1, board))

def probability_board_TEST():
    board = [['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', 'X', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', 'X', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·']]
    
    prob_board =         [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], 
                         [' ', 200, 100, 100, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 100, 200, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]

    TEST('Test for when sick and infection probability are both 100%', prob_board, probability_board(100, 100, board))
    prob_board =        [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], 
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ' '],
                         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]
    TEST('Test for when sick and infection probability are both 0%', prob_board, probability_board(0, 0, board))

def make_sick_TEST():
    board = [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]
    sick_board = [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', ' '],
             [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]
    make_sick(0, board)
    TEST('make_sick test for when sick probability is 0%', sick_board, board)
    board = [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
         [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]
    sick_board = [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]
    make_sick(101, board)
    TEST('make_sick test for when sick probability is 100%', sick_board, board)

def existing_sick_and_regular_TEST():
    board = [[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
              [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', ' '],
             [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]
    TEST('exisitng_sick test when there is sick', True, existing_sick(board))
    TEST('existing_regular test when everyone is sick', False, existing_regular(board))
    board = [['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·'],
             ['·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·', '·']]
    TEST('exisitng_sick test when everyone is healed', False, existing_sick(board))
    TEST('existing_regular test when there is regular', True, existing_regular(board))  
    
    
    
    

probability_to_switch_TEST()
probability_board_TEST()
make_sick_TEST()
existing_sick_and_regular_TEST()
